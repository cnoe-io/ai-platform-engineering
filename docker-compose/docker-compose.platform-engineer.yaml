# ============================================================================
# AUTO-GENERATED FILE - DO NOT EDIT DIRECTLY
# ============================================================================
# Generated by: scripts/generate-docker-compose.py
# Mode: PROD (with container images)
# Personas: platform-engineer
# Transports: a2a-p2p, a2a-over-slim
#
# To regenerate this file, run:
#   make generate-compose PERSONAS="platform-engineer"
#
# Or manually:
#   ./scripts/generate-docker-compose.py --persona platform-engineer
#
# Usage:
#   docker compose --profile a2a-p2p up         # For P2P transport
#   docker compose --profile a2a-over-slim up   # For SLIM transport
# ============================================================================

services:
  caipe-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/ai-platform-engineering:${IMAGE_TAG:-stable}
    container_name: caipe-platform-engineer-p2p
    volumes:
    - ../prompt_config.yaml:/app/prompt_config.yaml
    - ../persona.yaml:/app/persona.yaml
    env_file:
    - ../.env
    ports:
    - 8000:8000
    environment:
    - A2A_TRANSPORT=p2p
    - ARGOCD_AGENT_HOST=agent-argocd-platform-engineer-p2p
    - AWS_AGENT_HOST=agent-aws-platform-engineer-p2p
    - BACKSTAGE_AGENT_HOST=agent-backstage-platform-engineer-p2p
    - CONFLUENCE_AGENT_HOST=agent-confluence-platform-engineer-p2p
    - GITHUB_AGENT_HOST=agent-github-platform-engineer-p2p
    - JIRA_AGENT_HOST=agent-jira-platform-engineer-p2p
    - KOMODOR_AGENT_HOST=agent-komodor-platform-engineer-p2p
    - PAGERDUTY_AGENT_HOST=agent-pagerduty-platform-engineer-p2p
    - SLACK_AGENT_HOST=agent-slack-platform-engineer-p2p
    - SPLUNK_AGENT_HOST=agent-splunk-platform-engineer-p2p
    - WEATHER_AGENT_HOST=agent-weather-platform-engineer-p2p
    - WEBEX_AGENT_HOST=agent-webex-platform-engineer-p2p
    - PETSTORE_AGENT_HOST=agent-petstore-platform-engineer-p2p
    - ENABLE_ARGOCD=true
    - ENABLE_AWS=true
    - ENABLE_BACKSTAGE=true
    - ENABLE_CONFLUENCE=true
    - ENABLE_GITHUB=true
    - ENABLE_JIRA=true
    - ENABLE_KOMODOR=true
    - ENABLE_PAGERDUTY=true
    - ENABLE_SLACK=true
    - ENABLE_SPLUNK=true
    - ENABLE_WEATHER_AGENT=true
    - ENABLE_WEBEX_AGENT=true
    - ENABLE_PETSTORE_AGENT=true
    - ENABLE_RAG=false
    depends_on:
    - agent-argocd-platform-engineer-p2p
    - agent-aws-platform-engineer-p2p
    - agent-backstage-platform-engineer-p2p
    - agent-confluence-platform-engineer-p2p
    - agent-github-platform-engineer-p2p
    - agent-jira-platform-engineer-p2p
    - agent-komodor-platform-engineer-p2p
    - agent-pagerduty-platform-engineer-p2p
    - agent-slack-platform-engineer-p2p
    - agent-splunk-platform-engineer-p2p
    - agent-weather-platform-engineer-p2p
    - agent-webex-platform-engineer-p2p
    - agent-petstore-platform-engineer-p2p
    command: platform-engineer
    profiles:
    - a2a-p2p
  agent-argocd-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-argocd:${IMAGE_TAG:-stable}
    container_name: agent-argocd-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8001:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-argocd
    - MCP_PORT=8000
    depends_on:
    - mcp-argocd
    profiles:
    - a2a-p2p
  mcp-argocd:
    image: ghcr.io/cnoe-io/mcp-argocd:${IMAGE_TAG:-stable}
    container_name: mcp-argocd
    env_file:
    - ../.env
    ports:
    - 18024:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-aws-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-aws:${IMAGE_TAG:-stable}
    container_name: agent-aws-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8002:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-aws
    - MCP_PORT=8000
    depends_on:
    - mcp-aws
    profiles:
    - a2a-p2p
  mcp-aws:
    image: ghcr.io/cnoe-io/mcp-aws:${IMAGE_TAG:-stable}
    container_name: mcp-aws
    env_file:
    - ../.env
    ports:
    - 18031:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-backstage-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-backstage:${IMAGE_TAG:-stable}
    container_name: agent-backstage-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8003:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-backstage
    - MCP_PORT=8000
    depends_on:
    - mcp-backstage
    profiles:
    - a2a-p2p
  mcp-backstage:
    image: ghcr.io/cnoe-io/mcp-backstage:${IMAGE_TAG:-stable}
    container_name: mcp-backstage
    env_file:
    - ../.env
    ports:
    - 18033:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-confluence-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-confluence:${IMAGE_TAG:-stable}
    container_name: agent-confluence-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8004:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-confluence
    - MCP_PORT=8000
    depends_on:
    - mcp-confluence
    profiles:
    - a2a-p2p
  mcp-confluence:
    image: ghcr.io/cnoe-io/mcp-confluence:${IMAGE_TAG:-stable}
    container_name: mcp-confluence
    env_file:
    - ../.env
    ports:
    - 18058:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-github-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-github:${IMAGE_TAG:-stable}
    container_name: agent-github-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8005:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-github
    - MCP_PORT=8000
    depends_on: []
    volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    profiles:
    - a2a-p2p
  agent-jira-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-jira:${IMAGE_TAG:-stable}
    container_name: agent-jira-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8006:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-jira
    - MCP_PORT=8000
    depends_on:
    - mcp-jira
    profiles:
    - a2a-p2p
  mcp-jira:
    image: ghcr.io/cnoe-io/mcp-jira:${IMAGE_TAG:-stable}
    container_name: mcp-jira
    env_file:
    - ../.env
    ports:
    - 18022:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-komodor-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-komodor:${IMAGE_TAG:-stable}
    container_name: agent-komodor-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8007:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-komodor
    - MCP_PORT=8000
    depends_on:
    - mcp-komodor
    profiles:
    - a2a-p2p
  mcp-komodor:
    image: ghcr.io/cnoe-io/mcp-komodor:${IMAGE_TAG:-stable}
    container_name: mcp-komodor
    env_file:
    - ../.env
    ports:
    - 18063:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-pagerduty-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-pagerduty:${IMAGE_TAG:-stable}
    container_name: agent-pagerduty-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8008:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-pagerduty
    - MCP_PORT=8000
    depends_on:
    - mcp-pagerduty
    profiles:
    - a2a-p2p
  mcp-pagerduty:
    image: ghcr.io/cnoe-io/mcp-pagerduty:${IMAGE_TAG:-stable}
    container_name: mcp-pagerduty
    env_file:
    - ../.env
    ports:
    - 18081:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-slack-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-slack:${IMAGE_TAG:-stable}
    container_name: agent-slack-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8009:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-slack
    - MCP_PORT=8000
    depends_on:
    - mcp-slack
    profiles:
    - a2a-p2p
  mcp-slack:
    image: ghcr.io/cnoe-io/mcp-slack:${IMAGE_TAG:-stable}
    container_name: mcp-slack
    env_file:
    - ../.env
    ports:
    - 18026:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-splunk-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-splunk:${IMAGE_TAG:-stable}
    container_name: agent-splunk-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8010:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-splunk
    - MCP_PORT=8000
    depends_on:
    - mcp-splunk
    profiles:
    - a2a-p2p
  mcp-splunk:
    image: ghcr.io/cnoe-io/mcp-splunk:${IMAGE_TAG:-stable}
    container_name: mcp-splunk
    env_file:
    - ../.env
    ports:
    - 18069:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-weather-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-weather:${IMAGE_TAG:-stable}
    container_name: agent-weather-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8011:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=weather.outshift.io
    - MCP_PORT=443
    depends_on: []
    profiles:
    - a2a-p2p
  agent-webex-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-webex:${IMAGE_TAG:-stable}
    container_name: agent-webex-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8012:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=mcp-webex
    - MCP_PORT=8000
    depends_on:
    - mcp-webex
    profiles:
    - a2a-p2p
  mcp-webex:
    image: ghcr.io/cnoe-io/mcp-webex:${IMAGE_TAG:-stable}
    container_name: mcp-webex
    env_file:
    - ../.env
    ports:
    - 18039:8000
    environment:
    - MCP_MODE=http
    - MCP_HOST=0.0.0.0
    - MCP_PORT=8000
    profiles:
    - a2a-p2p
    - a2a-over-slim
  agent-petstore-platform-engineer-p2p:
    image: ghcr.io/cnoe-io/agent-template:${IMAGE_TAG:-stable}
    container_name: agent-petstore-platform-engineer-p2p
    env_file:
    - ../.env
    ports:
    - 8013:8000
    environment:
    - A2A_TRANSPORT=p2p
    - MCP_MODE=http
    - MCP_HOST=petstore.outshift.io
    - MCP_PORT=443
    depends_on: []
    profiles:
    - a2a-p2p
  caipe-platform-engineer-slim:
    image: ghcr.io/cnoe-io/ai-platform-engineering:${IMAGE_TAG:-stable}
    container_name: caipe-platform-engineer-slim
    volumes:
    - ../prompt_config.yaml:/app/prompt_config.yaml
    - ../persona.yaml:/app/persona.yaml
    env_file:
    - ../.env
    ports:
    - 8000:8000
    environment:
    - A2A_TRANSPORT=slim
    - ARGOCD_AGENT_HOST=agent-argocd-platform-engineer-slim
    - AWS_AGENT_HOST=agent-aws-platform-engineer-slim
    - BACKSTAGE_AGENT_HOST=agent-backstage-platform-engineer-slim
    - CONFLUENCE_AGENT_HOST=agent-confluence-platform-engineer-slim
    - GITHUB_AGENT_HOST=agent-github-platform-engineer-slim
    - JIRA_AGENT_HOST=agent-jira-platform-engineer-slim
    - KOMODOR_AGENT_HOST=agent-komodor-platform-engineer-slim
    - PAGERDUTY_AGENT_HOST=agent-pagerduty-platform-engineer-slim
    - SLACK_AGENT_HOST=agent-slack-platform-engineer-slim
    - SPLUNK_AGENT_HOST=agent-splunk-platform-engineer-slim
    - WEATHER_AGENT_HOST=agent-weather-platform-engineer-slim
    - WEBEX_AGENT_HOST=agent-webex-platform-engineer-slim
    - PETSTORE_AGENT_HOST=agent-petstore-platform-engineer-slim
    - ENABLE_ARGOCD=true
    - ENABLE_AWS=true
    - ENABLE_BACKSTAGE=true
    - ENABLE_CONFLUENCE=true
    - ENABLE_GITHUB=true
    - ENABLE_JIRA=true
    - ENABLE_KOMODOR=true
    - ENABLE_PAGERDUTY=true
    - ENABLE_SLACK=true
    - ENABLE_SPLUNK=true
    - ENABLE_WEATHER_AGENT=true
    - ENABLE_WEBEX_AGENT=true
    - ENABLE_PETSTORE_AGENT=true
    - ENABLE_RAG=false
    depends_on:
    - agent-argocd-platform-engineer-slim
    - agent-aws-platform-engineer-slim
    - agent-backstage-platform-engineer-slim
    - agent-confluence-platform-engineer-slim
    - agent-github-platform-engineer-slim
    - agent-jira-platform-engineer-slim
    - agent-komodor-platform-engineer-slim
    - agent-pagerduty-platform-engineer-slim
    - agent-slack-platform-engineer-slim
    - agent-splunk-platform-engineer-slim
    - agent-weather-platform-engineer-slim
    - agent-webex-platform-engineer-slim
    - agent-petstore-platform-engineer-slim
    - slim-dataplane
    - slim-control-plane
    command: platform-engineer
    profiles:
    - a2a-over-slim
  agent-argocd-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-argocd:${IMAGE_TAG:-stable}
    container_name: agent-argocd-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8001:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-argocd
    - MCP_PORT=8000
    depends_on:
    - mcp-argocd
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-aws-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-aws:${IMAGE_TAG:-stable}
    container_name: agent-aws-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8002:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-aws
    - MCP_PORT=8000
    depends_on:
    - mcp-aws
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-backstage-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-backstage:${IMAGE_TAG:-stable}
    container_name: agent-backstage-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8003:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-backstage
    - MCP_PORT=8000
    depends_on:
    - mcp-backstage
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-confluence-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-confluence:${IMAGE_TAG:-stable}
    container_name: agent-confluence-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8004:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-confluence
    - MCP_PORT=8000
    depends_on:
    - mcp-confluence
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-github-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-github:${IMAGE_TAG:-stable}
    container_name: agent-github-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8005:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-github
    - MCP_PORT=8000
    depends_on:
    - slim-dataplane
    volumes:
    - /var/run/docker.sock:/var/run/docker.sock
    profiles:
    - a2a-over-slim
  agent-jira-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-jira:${IMAGE_TAG:-stable}
    container_name: agent-jira-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8006:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-jira
    - MCP_PORT=8000
    depends_on:
    - mcp-jira
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-komodor-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-komodor:${IMAGE_TAG:-stable}
    container_name: agent-komodor-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8007:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-komodor
    - MCP_PORT=8000
    depends_on:
    - mcp-komodor
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-pagerduty-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-pagerduty:${IMAGE_TAG:-stable}
    container_name: agent-pagerduty-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8008:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-pagerduty
    - MCP_PORT=8000
    depends_on:
    - mcp-pagerduty
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-slack-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-slack:${IMAGE_TAG:-stable}
    container_name: agent-slack-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8009:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-slack
    - MCP_PORT=8000
    depends_on:
    - mcp-slack
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-splunk-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-splunk:${IMAGE_TAG:-stable}
    container_name: agent-splunk-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8010:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-splunk
    - MCP_PORT=8000
    depends_on:
    - mcp-splunk
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-weather-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-weather:${IMAGE_TAG:-stable}
    container_name: agent-weather-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8011:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=weather.outshift.io
    - MCP_PORT=443
    depends_on:
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-webex-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-webex:${IMAGE_TAG:-stable}
    container_name: agent-webex-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8012:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=mcp-webex
    - MCP_PORT=8000
    depends_on:
    - mcp-webex
    - slim-dataplane
    profiles:
    - a2a-over-slim
  agent-petstore-platform-engineer-slim:
    image: ghcr.io/cnoe-io/agent-template:${IMAGE_TAG:-stable}
    container_name: agent-petstore-platform-engineer-slim
    env_file:
    - ../.env
    ports:
    - 8013:8000
    environment:
    - A2A_TRANSPORT=slim
    - MCP_MODE=http
    - MCP_HOST=petstore.outshift.io
    - MCP_PORT=443
    depends_on:
    - slim-dataplane
    profiles:
    - a2a-over-slim
  slim-dataplane:
    image: ghcr.io/agntcy/slim:0.3.15
    container_name: slim-dataplane
    profiles:
    - a2a-over-slim
    ports:
    - 46357:46357
    environment:
    - PASSWORD=${SLIM_GATEWAY_PASSWORD:-dummy_password}
    - CONFIG_PATH=/config.yaml
    volumes:
    - ../slim-config.yaml:/config.yaml
    command:
    - /slim
    - --config
    - /config.yaml
  slim-control-plane:
    image: ghcr.io/agntcy/slim/control-plane:0.0.1
    container_name: slim-control-plane
    profiles:
    - a2a-over-slim
    ports:
    - 50051:50051
    - 50052:50052
    environment:
    - PASSWORD=${SLIM_GATEWAY_PASSWORD:-dummy_password}
    - CONFIG_PATH=/config.yaml
    volumes:
    - ../slim-config.yaml:/config.yaml
    command:
    - /slim
    - --config
    - /config.yaml
