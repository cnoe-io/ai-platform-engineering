Operator guide
¶
Installation
¶
Prerequisites:
Target cluster
added to ArgoCD
The Redis Operator is generally managed using ArgoCD by adding the target cluster to the
redis-operator applicationset
.
Check out the
sre-cluster-configs
repository and create a new directory for the target cluster.
export
CLUSTER_NAME
=
my-cluster-1
git
clone
git@wwwin-github.cisco.com:eti/sre-cluster-configs.git
git
checkout
-b
install-redis-operator-
$CLUSTER_NAME
cd
sre-cluster-configs
cd
sre/redis-operator
mkdir
$CLUSTER_NAME
cd
$CLUSTER_NAME
# Link the cluster config
ln
-s
../../_cluster-config/
$CLUSTER_NAME
/config.json
# Create kustomization.yaml
cat
<< EOF > kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ../../_apps/redis-operator/overlays/default
EOF
# Test changes
kustomize
build
# Commit and push changes
git
add
.
git
commit
-m
'install redis-operator on $CLUSTER_NAME'
git
push
-u
origin
install-redis-operator-
$CLUSTER_NAME
# Create a pull-request
open
https://wwwin-github.cisco.com/eti/sre-cluster-configs/pull/new/install-redis-operator-
$CLUSTER_NAME
Upgrade
¶
TBD
Monitoring
¶
TBD
2022-07-12