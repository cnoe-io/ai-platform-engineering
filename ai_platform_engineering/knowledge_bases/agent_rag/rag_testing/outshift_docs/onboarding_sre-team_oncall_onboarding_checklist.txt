On-Call Onboarding Checklist
¶
Checklist Items
¶
Verify your PagerDuty account and send test alerts to your phone
¶
Sign into
https://cisco-eti.pagerduty.com/
via Cisco SSO
Add your contact information to your profile
Click on your avatar on upper-right corner, then
My Profile
Add your contact information for phone and SMS
Make sure you have at least
two
methods of communication (e.g., Phone/SMS, mobile app push notifications)
Verify
Notification Rules
are as desired
Recommended: Download the PagerDuty mobile app for push notifications (add the account for the
cisco-eti.pagerduty.com
domain)
You can configure the app to ignore quiet hours/volume overrides
Test alerts by clicking the
Test
button for each method under
Contact Information
in your PagerDuty profile page
Verify the PagerDuty schedule and know how to do overrides
¶
There are 2 active schedules in use by the
SRE team
for the
ETI SRE - Escalation Policy
:
ETI SRE - Primary
ETI SRE - Secondary
Overrides allow you to swap shifts or make other one-time adjustments. For more information see
PagerDuty Overrides
Know where the run books are for on-call
¶
PagerDuty Playbook (on-call)
PagerDuty Playbook (Jenkins)
Logging Playbook
General Troubleshooting and Playbooks
Access to Webex Teams on-call rooms (On-call and Pipeline PagerDuty Alerts)
¶
Make sure you've joined the following Webex Messaging spaces created under the
ET&I SRE Internal
team:
Pipeline PagerDuty Alerts
On-call (PagerDuty)
PagerDuty Low Priority Alerts
Access Jenkins URL
¶
Verify that you can access
https://engci-private-sjc.cisco.com/jenkins/eti-sre/
SSH setup
¶
Follow the
SSH Access Setup
steps to populate your
.ssh/config
file
Verify you can log into one of the jenkins nodes listed
here
via
ssh <hostname>
Verify you can log into one of the P3 nodes listed
here
via
ssh <IP address>
Read
this
information on accessing AWS sanbox infrastructure. The script above does not add any config, you will add sandbox resources to your
.ssh/config
file as needed.
Access to Observability Tools
¶
Cisco Cloud Observability
Observability Endpoints
Set up kubectl contexts for various AWS clusters
¶
Follow the steps described in
Accessing EKS Kubernetes Clusters
. Some aliases and additions to your bash profile are available in
K8s Config Setup Shell Alias
.
Commonly used/noteworthy AWS accounts:
eticloud
eticloud-scratch-c
Commonly used/noteworthy clusters:
eks-dev-1
eks-prod-1
eks-prod-2
AWS Console access to eticloud, eticloud-scratch
¶
Console SSO link
GCP Access to eticloud, eticloud-scratch
¶
How to triage certificate issues in cluster
¶
General Information
¶
SSH Access Setup
¶
Add the respective blocks for the host you're trying to access to your
~/.ssh/config
file:
#---------- jenkins -----------------------------------------
# Jenkins
Host
eti-jenkins-*
User
ubuntu
StrictHostKeyChecking
no
IdentityFile
~/.ssh/jenkins_master_key
#---------- P3 ccprod02 -----------------------------------------
# ccprod02 bastion
Host
bastion0.ccprod02.prod.eticloud.io
User
ubuntu
StrictHostKeyChecking
no
IdentityFile
~/.ssh/ccprod02_bastion
# ccprod02 k8s nodes
Host
*.ccprod02.prod.eticloud.io
!bastion0.ccprod02.prod.eticloud.io
User
ubuntu
StrictHostKeyChecking
no
IdentityFile
~/.ssh/ccprod02_k8s
ProxyJump
bastion0.ccprod02.prod.eticloud.io
Create the referenced identity key files. For example, for
ccprod02_bastion
:
touch
~/.ssh/ccprod02_bastion
touch
~/.ssh/ccprod02_k8s
chmod
600
~/.ssh/ccprod02_*
Paste the private key content to the files created above. The keys values are stored in Keeper paths documented in the table
here
.
SSH Keys in Keeper
¶
SSH keys for authenticating remote host access are stored in
Keeper
.
(If you're unable to log in and are using Safari, allow pop-ups from
keeper.cisco.com
.)
The private and public keys required to access particular host are stored in the following environment-specific paths.
Navigate to the
secret/
path and copy and paste the appropriate "SSH Keys Secret Path" into the "Filter secrets" search bar to access the ssh keys.
Target Cluster/Nodes
Host Type
SSH Keys Secret Path
Jenkins
all nodes listed here
eticcprod/infra/runon/ETI_SRE_Jenkins_Nodes/master_key
ccprod02
bastion
eticcprod/infra/runon-prod/ccprod02/bastion/ssh/private_key
ccprod02
k8s node
eticcprod/infra/runon-prod/ccprod02/k8s/ssh/private_key
2023-12-10