jenkins
vault token rotation
Jenkins Vault Token Rotation (Deprecated)
¶
Note:
This approach is deprecated in favor of
Vault Plugin with Approle
Background
¶
This is a custom implementation of vault token management to provide least privileged access to venture folders and continuously updating vault tokens
Jenkins Vault Token Rotation uses a short lived vault tokens that are created and stored in Jenkins Credential store
These mechanism create two types of vault token
Higher Privileged - Admin vault token
Lesser Privileged - Venture vault token
Higher Privileged - Admin vault token
¶
What: Higher privileged Venture Orphan token renewed every 10 hours
How:
Created as an orphan token using SRE admin token
When:
Renewed every 10 hours without recreating
Limit the type of tokens created by this higher privileged token
Where:
Store in SRE admin folder
Lesser Privileged - Venture vault token
¶
What: Less privileged venture access token renewed every 60 hours
How:
Created as a vault token using venture admin token
When:
Re-created every 60 mins using admin tokens that are not accessible to ventures
Where:
Store in Venture folder
Solution
¶
Reference
¶
https://wwwin-github.cisco.com/eti/sre-vault-token-rotation
2023-01-20