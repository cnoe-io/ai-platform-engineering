artifact matrix
container registry
ecr
gcr
harbor
Artifact/Registry Matrix
¶
Source: Lucidchart on Aug 2023 artifact discussions
Container Registry Usage
¶
Registry
Usage
Auth
Support Anonymous Pull
Cisco Customer Usage
Harbor (registry.outshift.com)
Calisti Products
Robot accounts
Yes
Public AWS ECR
Calisti SaaS
Anonymous
Yes
Public GCR
CNAPP
Anonymous
Yes
Opensource projects
GHCR (Github container registry)
Opensource projects
Anonymous
Yes
Non-customer External Network Usage
Private AWS ECR (Preferred)
Most of ETI Apps
AWS IAM
No
Private GCP GCR/GAR
CNAPP - Panoptica
GCP Service Accounts
No
Private GHCR (Github container registry)
CNAPP - Lightspin & ETI Platform
Github Tokens
No
Cisco Internal Network Usage
containers.cisco.com (preferred)
Lot of ETI Platform containers
Bot tokens (Human/Robot)
No
dockerhub.cisco.com
Proxy cache to docker.io
Cisco Generic Users
No
Project specific registries
Greatbear
https://harbor.eticloud.io
Greatbear production harbor
https://repo.greatbear.io
Greatbear external distribution (prod)
https://harbor.prep.greatbear.io/
Greatbear external distribution (pre-production)
https://harbor-gbear.dev.eticloud.io/
Greatbear external distribution (dev)
Kosha
https://harbor.int.eks-kosha-staging.staging.eticloud.io/
Kosha staging Cluster
Lightspin
https://harbor.int.lightspin-dev-1.dev.eticloud.io/
Lightspin Dev Cluster - GHCR proxy cache
SRE
https://registry.dev.eticloud.io/
SRE Harbor validation
Helm Registry Usage
¶
Registry
Usage
Auth
Support Anonymous Pull
Cisco Customer Usage
Harbor (registry.outshift.com)
Calisti Products
Robot accounts
Yes
Public AWS ECR
Calisti SaaS
Anonymous
Yes
Public GCR
CNAPP
Anonymous
Yes
Opensource projects
GHCR (Github container registry)
Opensource projects
Anonymous
Yes
Cisco Internal Network Usage
Chartmuseum (chartmuseum.prod.eticloud.io) (preferred)
All ETI Helm charts
Anonymous
No
Non-customer External Network Usage
Private AWS ECR** (Preferred)
AWS IAM
No
Private GCP GCR/GAR
CNAPP - Panoptica
GCP Service Accounts
No
Binaries
¶
Features
S3 Pre-Signed
dockerhub.cisco.com
registry.outshift.com
harbor.eticloud.io
Websites (inside container)
Cisco Customer Usage
Yes
*
No
Yes (ORAS + OCI)*
No
Yes
Externally accessible
Yes
No
Yes (Robot accounts)
Yes (Robot accounts)
Yes
External Authenticated Access
Sign-up form (Pre-signed URL)
No
Yes (Robot accounts)
Yes (Robot accounts)
Yes
Role-based
No
No
Yes (Robot accounts)
Yes (Robot accounts)
Yes (ETI IAM service accounts)
Anonymous Auth
No
No
Yes (ORAS + OCI)
Yes (ORAS + OCI)
Yes
cli
No
No
No
No
Yes
CDN
No
No
No
No
Yes
Cisco Internal Usage
Yes
Yes (cisco generic users)*
Yes (ORAS + OCI only)
Yes (ORAS + OCI only)
Yes
Notes:
- -
*
-
ETI SRE Recommended choice
- Browser pre-signed access
- brew install
(Binary CDN)
Language Artifact Distribution
¶
Use-case
Tool
Details
Private
go modules
Cisco Artifactory Internal
Artifactory Project: nyota-go
Private
git lfs
Cisco Artifactory Internal
Artifactory Project: eti-gitlfs
Private
pypi
Cisco Artifactory Internal
Artifactory Project: eti-pypi (doesn't exist)
Private
npm
Cisco Artifactory Internal
Artifactory Project: eti-sre-npm
Private
maven
Cisco Artifactory Internal
Artifactory Project: eti-sre-group
Notes:
- Future services will use ETI IAM
- Licensing considerations for distributing artifacts
- Future external usage for language artifact distribution
2023-12-09