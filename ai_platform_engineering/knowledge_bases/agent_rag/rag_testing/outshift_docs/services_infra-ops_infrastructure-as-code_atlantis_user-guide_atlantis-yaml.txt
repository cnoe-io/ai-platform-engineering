atlantis project creation
atlantis user guide
atlantis workflows
Atlantis.yaml
¶
Creating an Atlantis project in an infrastructure repository.
Prerequisites
¶
An Atlantis-enabled GitHub repository
Example
¶
The
sre-tf-infra atlantis.yaml
is the most regularly used atlantis.yaml file.
File location
¶
The atlantis.yaml must be in the root of the repository.
Parameters
¶
The initial parameters are static and should not be changed.
version: 2
example
automerge: true
example
Projects
¶
A project is a collection of Terraform files that are grouped together for a single
apply
.
The projects should be under the heading
projects:
example
A project has several parameters:
name:
- the name of the Atlantis project. Can be used in a PR comment for only applying a specific set of Terraform files. Must be unique.
dir:
- the directory in which the Terraform files exist. Can be used in a PR comment for only applying a specific folder's worth of Terraform.
workflow:
- run the workflow defined in the
workflows:
section. Should only use
standard
as of 2022-12-06
terraform_version:
- the specific version of Terraform to run against the Terraform files. Should be
v.1.5.2
as of 2023-09-26.
Deprecated parameters
¶
Two parameters have been used in previous Atlantis configurations in the past. They should both be removed if still present.
environment:
type:
Workflows
¶
Workflows within the atlantis.yaml file define the actions that are taken during various steps of the Terraform process.
Example
workflows
2023-10-26