jenkins node agent access
jenkins ssh
Jenkins node access and user management
¶
According to
Build Environment Security
all interactive user sessions in build environments must be performed with corporate (CEC) credentials and must enforce multi-factor authentication using Duo.
Non-automation or system service related users are managed by the sre-build-infra-ansible repository's
duo_auth playbook
, the users are described in this yaml map:
users.yml
.
Adding a new user
¶
Collect the user's CEC ID and SSH public key, and add it to the users map in the
group_vars/all/users.yml
file.
users:
# - name: user's CEC ID
#   group: 'sre'                        - 'sre' for SRE team members, 'developer' for developers
#   unlimited_superuser: true           - give user sudo access
#   require_sudo_passwd: true           - require password for sudo access, leave this true
#   ssh_key: "user's SSH *public* key"
- name: zkacsand
group: 'sre'
unlimited_superuser: true
require_sudo_passwd: true
ssh_key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIND28B31BnM9H/IhUkMtQTGITa/K0q9Xoby7Bl1/9hIF zkacsand@cisco.com"
Adjust the
unlimited_superuser
and
group
parameters depending on whether the user needs sudo access and if he/she is an SRE team member or a developer.
As a next step run the
sre-build-infra-ansible
pipeline with the following parameters:
2023-09-21