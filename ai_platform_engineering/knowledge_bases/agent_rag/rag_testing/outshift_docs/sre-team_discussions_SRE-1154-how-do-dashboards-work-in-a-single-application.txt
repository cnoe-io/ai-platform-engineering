Overview
Goals
Artifacts
Cluster Dashboards
Aggregate Dashboards
Example 1
Example 2
References
Overview
¶
We currently deploy
Banzai Cloud One Eye
to our Kubernetes clusters. One Eye includes grafana operator which  can discover dashboards in other namespaces.  Our dashboards that can be downloaded from grafana UI are in raw
json format
.  All dashboards in json format should be located in a dashboards folder. This
helm chart template
will loop thru all json files in dashboards folder and install them in a customFolderName.
Goals
¶
Get dashboards deployed for the venture applications in our current environment.
Artifacts
¶
A sample code can be found from
sre-multi-cluster-dashboards repo
Chart.yaml
has the information such as version, name
dashboards
folder has raw json files
templates/configmap-helm-venture-dashboards.yaml
has the CRD GrafanaDashboardList.  This template will loop thru all json files in dashboards folder and install them in a customFolderName.
values.yaml
has all the custom values
Cluster Dashboards
¶
When a single application is deployed to a cluster, this dashboard represents all the metrics about the application on that particular cluster.
Aggregate Dashboards
¶
We use
Thanos
for highly available Prometheus setup with long term storage capabilities in
eks-observability-1
and eks-observability-2 clusters.  A sample of an aggregate dashboard can be found
here
Example 1
¶
This is how dashboards work for a single application.  We use
sre-go-helloworld
as an example.
Inside
deployment folder
we place the helm chart there.  This helm chart has the
configmap-dashboards.yml
.
Dashboards folder
is where we put the raw json file.
values.yml
needs folderName, ventureName, appInstance and appName.
Example 2
¶
Please watch Platform demo from min 0:20:00 to 0:40:00
Platform demo repo
Users should know how to extract json dashboard from grafana UI.
References
¶
Grafana Dashboards
Blackbox exporter
Helm
Thanos
2023-08-25