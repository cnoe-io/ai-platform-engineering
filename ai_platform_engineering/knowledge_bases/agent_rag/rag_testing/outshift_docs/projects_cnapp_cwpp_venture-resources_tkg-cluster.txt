Tanzu Kubernetes Grid on vSphere
¶
This document describes how to access the Panoptica Kubernetes cluster in Pirl vSphere via
kubectl
.
SecureCN-cluster is a prod cluster in Pirl-vCenter which contains 1 control planes and 2 worker nodes.
Get Kubectl Access:
Prerequisite:
kubectl
tool needs to be installed on your machine.
To get kubectl access to SecureCN-cluster:
copy the config file from
vault
. Refer to
SecureCN namespace vault access
documentation for vault access details.
edit cli ~/.kube/config on your machine.
vi
~/.kube/config
then add the values you copied.
or you can run:
export
VAULT_ADDR
=
https://keeper.cisco.com
export
VAULT_TOKEN
=
xxxxxxxxx
export
VAULT_NAMESPACE
=
eticloud/apps/securecn
vault
kv
get
-field
=
"~/.kube/config"
secret/tkg-cluster
>
~/.kube/config
Cluster access verification:
switch to the cluster context.
â
~
kubectl
config
use-context
secure-cn-admin@secure-cn
Switched
to
context
"secure-cn-admin@secure-cn"
.
verify the cluster nodes.
â
~
kubectl
get
nodes
NAME
STATUS
ROLES
AGE
VERSION
secure-cn-control-plane-r5kqt
Ready
master
10h
v1.18.2+vmware.1
secure-cn-md-0-6ddd445875-g7qb8
Ready
<none>
10h
v1.18.2+vmware.1
secure-cn-md-0-6ddd445875-qzx2q
Ready
<none>
10h
v1.18.2+vmware.1
â
~
Helpful Links
¶
Tanzu-Kubernetes-guide
Merge new kube-config with an existing config file
2024-02-25