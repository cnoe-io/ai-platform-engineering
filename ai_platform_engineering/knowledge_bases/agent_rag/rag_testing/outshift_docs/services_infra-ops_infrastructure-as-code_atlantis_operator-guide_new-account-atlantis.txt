account
atlantis
aws
new
How to onboard new cloud account to Atlantis
¶
Summary
¶
Atlantis has the ability to access multiple different on-premise and cloud environments. The basic cycle for adding credentials is:
Create credentials in the new environment.
Create a new secret in
Keeper
.
Once those steps are complete, a user will need to
reference the secret in their terraform
How to onboard a new AWS cloud account for use in Terraform by Atlantis
¶
AWS Prerequisites
¶
An AWS account created in Runon
Access to the relevant AWS account in
sre-cisco-groups-automation
Access to
Keeper
Steps
¶
Login to the
AWS account
Create a new IAM user:
Name:
terraform_admin
AWS Access Type:
Access key - Programmatic access
only.
Permissions:
Attach existing policies directly
AdministratorAccess
Tags:
Reference:
https://cisco.sharepoint.com/Sites/CSB/SitePages/Security%20Tagging%20and%20Audit%20in%20AWS.aspx
Da
ta
Classi
f
ica
t
io
n
=
"Cisco Restricted"
E
n
viro
n
me
nt
=
"Prod"
Applica
t
io
n
Name
=
"Atlantis"
ResourceOw
ner
=
"ETI SRE"
CiscoMailAlias
=
"eti-sre-admins@cisco.com"
Da
ta
Taxo
n
omy
=
"Cisco Operations Data"
Save the Access Key ID and Secret Access Key
Create a new vault secret in keeper eticloud namespace at the path:
secret/infra/aws/<aws_account_name/terraform_admin
with the keys:
AWS_ACCESS_KEY_ID
AWS_DEFAULT_REGION
AWS_SECRET_ACCESS_KEY
Link to
eticloud/secret/infra/aws/
Example secret and keys
How to onboard a new P3 environment
¶
TBD
How to onboard a new GCP environment
¶
TBD
2024-02-21