create eks environment
create kubernetes dev or prod environment
Create new EKS environment
¶
This document covers the process of creating an EKS cluster for running SRE development, and ET&I production workloads. The document is a stepwise operational guide comprised of tasks and links to detailed instructions for each task.
Provisioning Steps
¶
(Optional) Create AWS Account
¶
If this installation requires a new AWS Account follow the following instructions to create the account.
AWS Account Creation
Create Terraform Automation IAM User
¶
Following the AWS account creation, an IAM user must be created and documented in Keeper to allow Atlantis to perform infrastructure operations.
IAM User Creation
Create VPC for Cluster
¶
Choose an available CIDR block from the CIDR table, or use the next available CIDR block. This CIDR block will be used in the Terraform instantiation.
Choose CIDR
**Document the CIDR block used
Use the CIDR in the VCP module instantiation procedure
Create VPC via terraform
Create EKS Cluster
¶
Create EKS via terraform
Reference
:
EKS Cluster Topology
(Optional) Create VPC for Databases
¶
For new environments, a new database VPC may be necessary. For side-grade deployments, the existing database VPC and database should be used.
The
cluster-name
variable should be the name of the RDS cluster.
Foo should happen.
Document VPC
(Optional) Peer the Cluster VPC with the environment RDS VPC
¶
For cluster resources to access the database in their environment, a network path must be made to the RDS.
This VPC Peering project facilitates that connection and the required routing.
Prerequisites:
Name of requesting VPC.
Name of accepting VPC.
(Optional) Create RDS Databases
¶
For new environments, a new database may be necessary. For side-grade deployments, the existing database should be used.
Prerequisites:
CIDR for EKS VPC
Name of foo Name of bar
Instructions:
Clone git repository
sre-tf-infra
Read instructions
rds-aurora module
.
Create an instantiation.
Process instantiation through Atlantis.
Document RDS
Deploy SRE Base Applications
¶
Deploy baseapps
â¡ï¸
Next:
Deploy application (Upgrade/Sidegrade)
2024-02-21