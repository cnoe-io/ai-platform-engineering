Running Resilient Production Workloads in AWS
¶
Table of Contents
¶
Plan of Action
How to engage
Resliency Risks at Cisco
AWS Service Best Practices
Direct Connect
EC2
Elasticache
Lambda
OpenSearch
RDS
VPC Endpoints
Elastic File System
AWS Best Practices - Resilience
What is Resilience
Categories of Disaster
Regions and AZ's
Disaster event scope: AWS Region
Resilience options in AWS
Active/Passive
Active/Active
Design Considerations
Resilience Testing and Resources
Plan of Action
¶
Identify single AZ risk and remediate
Awareness of the risk
Share the high-level best practices around resillience
How to engage
¶
ServiceNow
cloudops@cisco.com
Sharepoint
Resliency Risks at Cisco
¶
Taken from a scan across all Cisco AWS accounts.
EC2 AZ balance/single AZ
Lambda single AZ
RDS single AZ
Direct Connect lack of redundancy
Elasticache single AZ
VPC endpoints in single AZ
OpenSearch single AZ
Elastic File Systems single AZ
AWS Service Best Practices
¶
Direct Connect
¶
Have multiple (at least 2) DC connections per region.
EC2
¶
Deploy instances evenly across AZ's in a region
Check out using ASG's
PilotLight
Elasticache
¶
For Redis, enable multi-az support (standby backup copy)
Lambda
¶
Create Lambda VPC endpoints across multiple subnets.
OpenSearch
¶
Enable multi-az support. Creates at least one replica for each index in your cluster.
RDS
¶
Enable multi-az. Creates a standby replica.
VPC Endpoints
¶
Create endpoints that have access to multiple subnets.
Elastic File System
¶
Create mount targets in multiple AZ's.
AWS Best Practices - Resilience
¶
What is Resilience
¶
Disaster Recovery is to restore service by addressing edge-case outage events.  (DR)
Availability prevents loss of service by addresing regular outage events.    (HA)
DR/RTO/RPO
AWS Resilience Hub
Categories of Disaster
¶
Natural
Technical failure
Human actions
Regions and AZ's
¶
26 regions worldwide
Each region has multiple AZ's and transit centers.
Each AZ is one or more discrete data centers.
Disaster event scope: AWS Region
¶
AZ's help with HA
Regions help with DR
Resilience options in AWS
¶
Least Expensive/slowest/lowest priority -> highest cost/shortest time/highest priority
Active/Passive
¶
Backup/restore (hours/days)
Pilot Light (10s of minutes)
Warm standby (minutes)
Active/Active
¶
Environment failover
AWS multi-site active/active architecture
Design Considerations
¶
AWS Well Architected Framework
Reliability Pillar - how do you plan for DR
Avoid control plane operations for recovery strategies
Avoid CRUDL ops necessary for recovery
Patterns for detecting outages
Lots of stuff available (not actually helpful)
Cellular Architecture
multiple copies of an entire encapsulated service including all of its components
strong bulkheads between cells limit and contain failure
In conjunctino with bother blast radious mitigation architectures
sharding / shuffle sharding
each cell services a specific set of customers
throttling
exponential backoff
traffic shaping
Resilience Testing and Resources
¶
Fault Injection Simulater (AWS Chaos Engineering)
FIS
Route 53 Application Recovery Controller
ARC
Elastic Disaster Recovery
Trusted Advisor - New Priority Capability
DR Immersion Day
Architectural Resilience Day
Simulated Conditions Response and Management (SCRM)
2023-08-25