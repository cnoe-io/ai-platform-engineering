credentials
jenkins
Jenkins Credentials Store
¶
Jenkins uses
credential binding plugin
to manage credentials. Credentials binding plugin injects credentials as environment variables in Jenkins build steps.
Example credendials binding plugin usage in declarative pipeline groovy code:
withCredentials
([
usernamePassword
(
credentialsId:
'example-credentials'
,
usernameVariable:
'USERNAME'
,
passwordVariable:
'PASSWORD'
)])
{
// available as an env variable, but will be masked if you try to print it out any which way
// note: single quotes prevent Groovy interpolation; expansion is by Bourne Shell, which is what you want
sh
'echo $PASSWORD'
// also available as a Groovy variable
echo
USERNAME
// or inside double quotes for string interpolation
echo
"username is $USERNAME"
}
Global Credentials
¶
Credentials stored in
Global credential store
are accesible anywhere in Jenkins projects
Folder-level Credentials
¶
Credentials stored at
Folder-level credential store
are only accessible in the specific venture folder
Job-level Credentials
¶
Credentials stored at
Job-level credential store
are only accessible in the specific job
SRE Recommendation
¶
SRE team recommends storing credentials and using
vault token plugin
to retrieve credentials
If credentials are needed in Jenkins, ventures are advised to store credentials at folder or job level instead of the global credential store
References
¶
https://www.jenkins.io/doc/book/using/using-credentials/
2023-01-20