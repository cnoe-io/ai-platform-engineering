Security policy
¶
When we receive a vulnerability alert from Infosec, we often have a short time to resolve the issue. Within this period, we have for example, to determine a host that presents the issue, find his owner and solve the problem. This processing time may be longer or shorter.
So our policy is to block locally any vulnerability by configuring an Access-List on our gateway untill we solve the problem.
GATEWAY
¶
PIRL-CORP-GW 10.60.6.253
This is the gateway of the Paris Lab wich we do have access.
See The PIRL-CORP-GW on the image below
On this device we apply our ACL configuration that allows us to keep the vulnerabilities local.
SSH connection command: ssh -oKexAlgorithms=+diffie-hellman-group-exchange-sha1 -c aes256-cbc admin@10.60.6.253
ACL CONFIGURATION COMMANDS
¶
The configuration below blocks traffic for services on ports 5900 & 5902 for the problematic host with the IP address 10.60.16.202
access-list
150
deny
tcp
any
host
10
.60.16.202
eq
5900
access-list
150
deny
tcp
any
host
10
.60.16.202
eq
5902
access-list
150
permit
ip
any
any
interface
gigabitEthernet0/0/0
ip
access-group
150
in
ACL VERIFICATION
¶
First we create a virtual machine with the dynamically assigned IP 10.60.17.258 on which we install an apache server
Check if the http port (80) is listening
To verify we can connect to the server, open a web browser and type in the address bar:
10.60.17.258
Now on the Paris Gateway we block traffic from or to the host (IP 10.60.17.158) on the http port. The ACL configuration commands are shown below:
access-list
101
deny
tcp
any
host
10
.60.17.158
eq
80
access-list
101
permit
ip
any
any
interface
gigabitEthernet0/0/0
ip
access-group
101
in
Check if we can connect to the host (IP 10.60.17.158) on port 80. As show in the image below we can see that we cannot connect to the webserver anymore.
Now to check if our ACL configuration is the cause of the HTTP connection failure, we juste have to remove the rule from the GW,
command to remove the ACL configuration:
no
ip
access-list
101
Then we go back to the web browser and then attempt to access the webserver
10.60.17.258
We see that we can connect again to the http port, so we can assume that the ACL configuration works.
2022-04-20