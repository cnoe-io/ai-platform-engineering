Container Registry Choices
ECR
ECR Public
devhub.cisco.com
registry.outshift.io
Container Registry Choices
¶
This document outlines the various container registries the ETI platform supports.
ECR Private
¶
Success
â Outshift Platform Recommended Container Registry Choice
What:
AWS ECR registry setup in
eticloud
AWS account
Who:
Default choice
to store and retrieve container images in the cloud
RBAC:
- Push access thru CI pipelines
- K8s clusters have read access using imps
When:
Default cloud registry choice for all teams and developers
Limitations:
Cannot provide non-IAM (anonymous or basic auth) access to registry
ECR Public
¶
Success
â Outshift Platform Recommended Public Container Registry Choice
What:
AWS ECR Public registry set up in
eticloud
AWS account
Who:
Provide public access to containers for customers with pre-existing AWS accounts
RBAC:
- Push access only available thru CI pipelines
- Any IAM user in AWS can retrieve the images
When:
- External customers who are already AWS users
Limitations:
- AWS IAM is required
- No anonymous or basic auth
Outshift Platform Harbor
¶
Caution
â ï¸ Panoptica External Agent Publishing
Please consult Outshift Platform team before using this registry beyond Panoptica
What:
Outshift Platform Harbor is used by Panoptica team to share panoptica client agents with customers
Who:
For external customer access, anonymous or with basic auth
RBAC:
- Scoped robot accounts provide registry access
When:
- External customers publishing
Limitations:
- Limited scope for customers images
- Not designed to operate as a first-partyregistry
Cisco Internal Container Registries
¶
containers.cisco.com
¶
Note
â Outshift Platform team recommends this registry for Cisco internal network usage
What:
Quay-based container registry hosted internally
Who:
ETI developers internal container registry
RBAC:
- Cisco LDAP
- Scoped robot accounts
When:
- ETI developers internal container registry
Limitations:
- Best effort IT support
dockerhub.cisco.com
¶
Error
ð« Not recommended at this time
What:
Cisco internal JFrog Artifactory backed container registry
Who:
Case-by-case for ETI developers
RBAC:
- Cisco Generic Users
- Project based scope
When:
- Case-by-case for ETI developers
Limitations:
- Cisco generic user scope
- Known issues with KinD clusters
devhub.cisco.com
¶
Error
ð« Not recommended at this time
What:
Public-facing Cisco JFrog Artifactory backed container registry
Who:
Case-by-case for ETI developers
RBAC:
- Cisco generic users
When:
- External customers with Cisco generic users
Limitations:
- Cisco Generic User accounts have to be shared
- No easy way to scope access with project
2024-08-18