monitoring cisco groups
Cisco Groups Monitoring
¶
Introduction
¶
As we did face on a regular basis lot of failure with regards our
Cisco Groups API automation
due to connection timeout to
https://groups-api.cisco.com
as per one job failure:
11-Oct [16:44:52.675]  requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='groups-api.cisco.com', port=443): Read timed out. (read timeout=120.0)
This means that the Cisco Groups RestAPI services was down and to fix it, we had to send an email to Anurag Bhardwaj -X (anbhardw - TATA CONSULTANCY SERVICES LIMITED at Cisco)
anbhardw@cisco.com
; Bolisetty Sri Vyshnavi -X (bsrivysh - TATA CONSULTANCY SERVICES LIMITED at Cisco)
bsrivysh@cisco.com
; cisco-groups-support(mailer list)
cisco-groups-support@cisco.com
;
In order to work closely with EngIT in improving this service status, we've decided to build a new dashboard on the
Outshift Grafana Portal
.
Overview
¶
As per our monitoring stack, we do already have the
jenkins monitoring
and we do have a
jenkins job to automate
the updates on Cisco Groups API, this quite easy to build a Grafana dashboard which will use metrics from
prometheus plugin
on our Jenkins dedicated instance.
Cisco Groups RestAPI dashboard
¶
To build the Cisco Groups API dashboard, we do have few metrics available and we're currenlty relyin on default_jenkins_builds_success_build_count which can take jenkins_job as a parameter, in our case, the value is "SRE/pipeline/sre-cisco-groups-automation/master" and another useful parameter is status which could be "SUCCESS" or "FAILURE". We also use the metric default_jenkins_builds_health_score which can also the job parameter, and this is a good way to have the health score of a job.
At the end, we're using these metrics to build gauge and timeseries panels such as:
Here
is the json model.
Access to the dashboard
¶
As per the monitoring stack, the dashboard is available using
this URL
.
2024-07-23